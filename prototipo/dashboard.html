<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>AeroG7 - Panel de Control</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="stylesheet" href="css/styles.css">
  <style>
    /* Estilos adicionales para mejorar la experiencia mÃ³vil */
    @media (max-width: 768px) {
      /* Asegurar que los inputs no hagan zoom en iOS */
      input, select, textarea {
        font-size: 16px !important;
      }
      
      /* Mejorar el espaciado en dispositivos tÃ¡ctiles */
      button, .btn-reservar, .btn-vuelo {
        min-height: 44px;
        touch-action: manipulation;
      }
    }
  </style>
</head>
<body>

<header class="header">
  <div class="logo"><a href="index.html"><img src="logo9.png" height="40px"><span>Mas que volar te Protegemos</span></a></div>

  <div class="user-info">
    <span id="nombreUsuario"></span>
    <button onclick="logout()" class="btn-logout">ğŸšª Cerrar sesiÃ³n</button>
  </div>
</header>


<!-- PANEL ADMIN / SOPORTE -->
<section id="panelAdmin" style="display:none; padding: 40px 20px; max-width: 1400px; margin: 0 auto;">
  <div class="tabs">
    <button class="tab-btn active" onclick="activarTab('tabVuelos')">âœˆï¸ GestiÃ³n de Vuelos</button>
    <button class="tab-btn" onclick="activarTab('tabUsuarios')">ğŸ‘¤ Usuarios Registrados</button>
  </div>

  <!-- TAB 1: VUELOS -->
  <div id="tabVuelos">
    <h2 style="color: var(--primary); margin-bottom: 30px; text-align: center;">âœˆï¸ GestiÃ³n de Vuelos</h2>

    <div class="form-vuelo">
      <input type="text" id="origenNuevo" placeholder="Origen (cÃ³digo o nombre)">
      <input type="text" id="destinoNuevo" placeholder="Destino (cÃ³digo o nombre)">
      <input type="date" id="fechaNuevo">
      <input type="time" id="horaNuevo">
      <input type="number" id="precioNuevo" placeholder="Precio en USD" step="0.01">
      <button class="btn-vuelo" onclick="crearVuelo()">â• Crear Vuelo</button>
    </div>

    <input type="text" id="busquedaVuelos" placeholder="ğŸ” Buscar vuelo por origen, destino o cÃ³digo..." oninput="buscarVuelosEnTiempoReal()" style="width: 100%; padding: 12px; margin: 20px 0; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem;">

    <div style="overflow-x: auto;">
      <table id="tablaVuelos">
        <thead>
          <tr>
            <th>ID</th>
            <th>Origen</th>
            <th>Destino</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Precio</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- TAB 2: USUARIOS -->
  <div id="tabUsuarios" style="display:none;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 30px; flex-wrap: wrap; gap: 15px;">
      <h2 style="color: var(--primary); margin: 0;">ğŸ‘¥ Usuarios Registrados</h2>
      <div class="admin-actions" style="display: flex; gap: 10px;">
        <button class="btn-guardar" onclick="guardarCambiosUsuarios()">ğŸ’¾ Guardar cambios</button>
        <button class="btn-cancel" onclick="descartarCambiosUsuarios()">â†º Descartar cambios</button>
      </div>
    </div>

    <div style="overflow-x: auto;">
      <table id="tablaUsuarios">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Email</th>
            <th>Rol</th>
            <th>Acceso</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>

<!-- PANEL USUARIO NORMAL -->
<section id="panelUsuario" style="display:none;">
  <h2 style="text-align:center;">ğŸ“‹ Historial de Reservas</h2>
  <div class="text-center">
    <button class="btn-ir-vuelos" onclick="window.location.href='aplicacion.html'">ğŸ” Buscar vuelos / Hacer reserva</button>
    <button class="btn-ir-vuelos" onclick="window.location.href='index.html'">ğŸ  Volar al inicio</button>
  </div>

  
  <div class="tabs-historial">
    <span id="pendienteBtn" class="tab-historial-btn active" onclick="mostrarTabHistorial('pendiente')">â³ Pendientes</span>
    <span id="pagadoBtn" class="tab-historial-btn" onclick="mostrarTabHistorial('pagado')">âœ… Pagadas</span>
  </div>

  <div id="historialPendientes"></div>
  <div id="historialPagadas" style="display:none;"></div>
</section>

<!-- MODAL PAGO -->
<div id="modalPago" class="modal">
  <div class="modal-content">
    <h3>ğŸ’³ Pagar Reserva</h3>
    <p id="detallePago" style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 20px 0;"></p>
    
    <label for="nombreTarjeta">Nombre en la tarjeta</label>
    <input type="text" id="nombreTarjeta" placeholder="Nombre completo" autocomplete="cc-name">
    
    <label for="numTarjeta">NÃºmero de tarjeta</label>
    <input type="text" id="numTarjeta" placeholder="1234 5678 9012 3456" maxlength="16" inputmode="numeric" autocomplete="cc-number">
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
      <div>
        <label for="venceTarjeta">Vencimiento</label>
        <input type="text" id="venceTarjeta" placeholder="MM/YY" maxlength="5" inputmode="numeric" autocomplete="cc-exp">
      </div>
      <div>
        <label for="cvvTarjeta">CVV</label>
        <input type="text" id="cvvTarjeta" placeholder="123" maxlength="3" inputmode="numeric" autocomplete="cc-csc">
      </div>
    </div>
    
    <button onclick="procesarPago()" style="margin-top: 20px;">âœ… Confirmar pago</button>
    <button onclick="cerrarModalPago()">Cancelar</button>
  </div>
</div>

<!-- MODAL CANCELAR -->
<div id="modalCancelar" class="modal">
  <div class="modal-content">
    <h3>âš ï¸ Cancelar Reserva</h3>
    <p style="font-size: 1.1rem; line-height: 1.6;">Â¿EstÃ¡s seguro de que deseas cancelar esta reserva? Esta acciÃ³n no se puede deshacer.</p>
    <button id="btnConfirmarCancelacion" style="background: linear-gradient(135deg, #dc3545, #c82333);">âŒ SÃ­, cancelar reserva</button>
    <button onclick="cerrarModalCancelar()">No, mantener reserva</button>
  </div>
</div>

<script src="js/app.js"></script>

<!-- Footer -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-section">
      <h4>AeroG7</h4>
      <p>Tu aerolÃ­nea de confianza para volar por el Caribe y mÃ¡s allÃ¡.</p>
    </div>
    
    <div class="footer-section">
      <h4>Enlaces RÃ¡pidos</h4>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="aplicacion.html">Buscar Vuelos</a></li>
        <li><a href="faq-contacto.html">FAQ y Contacto</a></li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h4>Contacto</h4>
      <ul>
        <li>ğŸ“§ info@aerog7.com</li>
        <li>ğŸ“ +1 (809) 555-0100</li>
        <li>ğŸ“ Santo Domingo, RD</li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h4>SÃ­guenos</h4>
      <div class="social-links">
        <a href="#" class="social-link">ğŸ“˜</a>
        <a href="#" class="social-link">ğŸ“·</a>
        <a href="#" class="social-link">ğŸ¦</a>
        <a href="#" class="social-link">ğŸ’¼</a>
      </div>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>&copy; 2025 AeroG7. Todos los derechos reservados.</p>
  </div>
</footer>

</body>
</html>
